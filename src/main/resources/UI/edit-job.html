<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit page</title>
    <link href="lib/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="app.css">
</head>

<body class="app-bg-img edit-page">
    <nav class="navbar navbar-expand-lg navbar-white bg-white sticky-top px-20">
        <ul class="nav gap-2">
            <li class="nav-item">
                <button class="nav-link nav-btn rounded" href="#" data-href="dashboard"><i
                        class="bi bi-house-door me-2"></i> Dashboard</button>
            </li>
            <li class="nav-item">
                <button class="nav-link nav-btn active rounded" href="#" data-href="list-job"><i
                        class="bi bi-graph-up me-2"></i> Jobs list</button>
            </li>
            <li class="nav-item">
                <button class="nav-link nav-btn rounded" href="#" data-href="resume-analyzer"><i
                        class="bi bi-layers me-2"></i> Resume Analyzer</button>
            </li>
        </ul>
    </nav>

    <div class="card form-card mt-20">
        <div class="card-header bg-primary text-white p-3">
            <h5 class="mb-0"><i class="bi bi-plus-circle me-2"></i>Edit Job Description</h5>
        </div>
        <div class="card-body p-4">
            <form id="jobForm">

                <div class="mb-3">
                    <label for="role" class="form-label fw-bold">Role</label>
                    <select class="form-select" id="role" required>
                        <option value="" selected disabled>Select Role Type</option>
                        <option value="developer">Software Developer</option>
                        <option value="designer">UI/UX Designer</option>
                        <option value="manager">Project Manager</option>
                        <option value="qa">QA Engineer</option>
                    </select>
                </div>

                <div class="mb-4">
                    <label for="experience" class="form-label fw-bold">Required Experience</label>
                    <select class="form-select" id="experience" required>
                        <option value="" selected disabled>Select Experience Level</option>
                        <option value="entry">Entry Level (0-2 years)</option>
                        <option value="mid">Mid-Senior (3-5 years)</option>
                        <option value="senior">Senior (6-10 years)</option>
                        <option value="lead">Lead / Architect (10+ years)</option>
                    </select>
                </div>

                <div class="mb-4">
                    <span class="status">OKOKOKOKOKOK</span>
                </div>

                <div class="mb-4 d-grid1 text-center">
                    <button type="button" class="btn btn-primary update-btn btn-lg">
                        <i class="bi bi-check-lg me-2"></i>Update Job
                    </button>
                    <button type="button" class="btn btn-primary btn-lg nav-btn" data-href="list-job">
                        <i class="bi bi-arrow-left me-2"></i>Back
                    </button>
                </div>
            </form>
        </div>
    </div>
    <script src="lib/bootstrap.bundle.min.js"></script>
    <script src="lib/jquery-3.7.1.min.js"></script>
    <script src="app.js"></script>

    <script>
        $(function () {
            var editJobId = localStorage.getItem('editJobId');
            if (!!editJobId) {
                var data = javaBackend.getJobById(editJobId);

                if (data) {
                    var [role, exp] = data.split(';;');
                    // $('body').append("Success: " + editJobId + ", " + data + role + ", " + exp);
                    $('#role').val(role);
                    $('#experience').val(exp);
                    $('.update-btn').attr('data-id', editJobId);
                } else {
                    $('body').append("Error: Job data not found for ID " + editJobId);
                }
            }
        });
    </script>
</body>

</html>